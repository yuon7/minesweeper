(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(85)}])},85:function(e,t,a){"use strict";a.r(t);var n=a(5893),l=a(7294),c=a(2729),r=a.n(c);let i=()=>{let[e,t]=(0,l.useState)([10,8,8]),[a,c]=(0,l.useState)(!0),[i,s]=(0,l.useState)(0),[d,o]=(0,l.useState)(!1),[_,u]=(0,l.useState)([...Array(e[2])].map(()=>[...Array(e[1])].map(()=>0))),[x,p]=(0,l.useState)([...Array(e[2])].map(()=>[...Array(e[1])].map(()=>-1))),m=[[1,-1],[1,0],[1,1],[-1,-1],[-1,0],[-1,1],[0,-1],[0,1]],h=[...Array(e[2]).map(()=>[...Array(e[1])].map(()=>-1))],f=[...Array(e[2])].map(()=>[...Array(e[1])].map(()=>0));(0,l.useEffect)(()=>{if(a)return;let e=setInterval(()=>{s(e=>e+1)},1e3);return()=>{clearInterval(e)}},[a]);let v=(t,a)=>t<0||t>=e[1]||a<0||a>=e[2],g=t=>{[...Array(e[1])].map((a,n)=>{[...Array(e[2])].map((e,a)=>{m.map(e=>{let[l,c]=e,r=l+n,i=c+a;v(r,i)||10!==t[a][n]||10===t[i][r]||(t[i][r]+=1)})})}),p(t)},N=(t,a,n)=>{let l=()=>{if(n.flat().filter(e=>10===e).length>=e[0]){p(n);return}let c=Math.floor(Math.random()*e[2]),r=Math.floor(Math.random()*e[1]);c===a&&r===t?n[c][r]=-1:n[c][r]=10,l()};l()},b=e[0]-_.flat().filter(e=>3===e).length,j=_.flat().filter(e=>0===e).length+_.flat().filter(e=>3===e).length===e[0],y=(e,t)=>{let a=structuredClone(_),n=structuredClone(x),l=(e,t)=>{0===a[t][e]&&(a[t][e]=1),-1===n[t][e]&&(n[t][e]=-2,m.map(a=>{let[n,c]=a,r=n+e,i=c+t;v(r,i)||l(r,i)}))};0===x.flat().filter(e=>10===e).length&&(N(e,t,n),g(n),c(!1)),(10!==n[t][e]||j||0!==a[t][e])&&1!==a[t][e]||(x.map((e,t)=>{e.map((e,n)=>{10===e&&(a[t][n]=1,u(a))})}),c(!0),o(!0),n[t][e]+=1,p(n)),(j||d||0!==a[t][e])&&1!==a[t][e]||l(e,t),u(a),p(n)},k=(e,t,a)=>{a.preventDefault();let n=structuredClone(_),l=n[t][e];0!==l||j||d?3===l&&(n[t][e]=0):n[t][e]=3,u(n)};(0,l.useEffect)(()=>{c(!0)},[j]);let C=()=>{p(h),u(f),c(!0),s(0),o(!1)},w=()=>{t([10,9,9]),c(!0),s(0),C()},A=()=>{t([40,16,16]),c(!0),s(0),C()},S=()=>{t([99,30,16]),c(!0),s(0),C()};return(0,n.jsxs)("div",{className:r().container,children:[(0,n.jsxs)("div",{className:r().levels,children:[(0,n.jsx)("div",{className:r().level,children:(0,n.jsx)("button",{onClick:w,children:"初級"})}),(0,n.jsx)("div",{className:r().level,children:(0,n.jsx)("button",{onClick:A,children:"中級"})}),(0,n.jsx)("div",{className:r().level,children:(0,n.jsx)("button",{onClick:S,children:"上級"})})]}),(0,n.jsxs)("div",{className:r().board,style:{width:"".concat(e[1]>=9?70+35.8*e[1]:356.4,"px"),height:"".concat(200+35.8*e[2],"px")},children:[(0,n.jsxs)("div",{className:r().top,style:{width:"".concat(e[1]>=9?35.8*e[1]:296.4,"px")},children:[(0,n.jsx)("div",{className:r().count,children:String(b).padStart(3,"0")}),(0,n.jsx)("div",{className:r().face,style:{backgroundPosition:"".concat(d?-520:j?-480:-440,"px 0px")},onClick:()=>C()}),(0,n.jsx)("div",{className:r().timer,children:String(i).padStart(3,"0")})]}),(0,n.jsx)("div",{className:r().game,style:{width:"".concat(35.4*e[1]+10,"px"),height:"".concat(35.4*e[2]+10,"px")},children:(0,n.jsx)("div",{className:r().boards,style:{width:"".concat(35*e[1],"px"),height:"".concat(35*e[2],"px")},children:_.map((e,t)=>e.map((e,a)=>(0,n.jsx)("div",{className:r().num,style:{backgroundPosition:"".concat(11===x[t][a]?-297:-29.8*x[t][a],"px 1.7px"),backgroundColor:"".concat({0:"#c6c6c6",12:"red"}[x[t][a]+1])},children:(0,n.jsx)("div",{className:r().tile,style:{border:[void 0,"0px"][e],background:["#c6c6c6","transparent"][e]},onClick:()=>y(a,t),onContextMenu:e=>k(a,t,e),children:(0,n.jsx)("div",{className:r().flag,style:{backgroundPosition:"".concat({0:30,1:30,2:-184,3:-207}[_[t][a]],"px 1.5px")}})},"".concat(a,"-").concat(t))},"".concat(a,"-").concat(t))))})})]})]})};t.default=i},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",top:"index_top__uMqHF",num:"index_num__RUJ1g",game:"index_game__d00rA",boards:"index_boards__I9WPe",tile:"index_tile__BL_fN",flag:"index_flag__Bsg_z",face:"index_face__Yr_Hp",count:"index_count__gXQB9",timer:"index_timer__azvpY",level:"index_level__wF3It",levels:"index_levels__0ebgi"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);